# Simple Workflow Configuration for Testing
# This is a minimal workflow that demonstrates basic functionality

id: "simple_test_workflow"
name: "Simple Test Workflow"
description: "A simple workflow for testing the workflow engine"
type: "sequential"
created_by: "system"

global_context:
  test_mode: true
  output_format: "json"

settings:
  max_execution_time: 120
  max_concurrent_steps: 2
  auto_cleanup: true
  persist_state: false

error_handling:
  retry_on_failure: true
  max_retries: 2
  retry_delay_seconds: 1
  continue_on_error: false
  use_fallback_agent: false

steps:
  # Simple research step
  - id: "simple_research"
    name: "Simple Research"
    description: "Perform simple research task"
    agent_id: "research_analyst"
    function: "research_topic"
    parameters:
      topic: "Test Topic"
      depth: "basic"
      sources: ["general"]
    timeout: 30
    max_retries: 1
    parallel_allowed: false

  # Simple analysis step
  - id: "simple_analysis"
    name: "Simple Analysis"
    description: "Perform simple analysis"
    agent_id: "research_analyst"
    function: "analyze_data"
    parameters:
      data_source: "${steps.simple_research.output}"
      analysis_type: "basic"
      output_format: "${global.output_format}"
    depends_on:
      - "simple_research"
    timeout: 30
    max_retries: 1
    parallel_allowed: false
